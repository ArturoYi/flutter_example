# ObjectBox æ•°æ®åº“ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ [ObjectBox](https://objectbox.io/) æ•°æ®åº“çš„ Flutter ç¤ºä¾‹é¡¹ç›®ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨ Flutter åº”ç”¨ä¸­å®ç°é«˜æ€§èƒ½çš„æœ¬åœ°æ•°æ®å­˜å‚¨ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

ObjectBox æ˜¯ä¸€ä¸ªä¸“ä¸ºç§»åŠ¨å’Œç‰©è”ç½‘è®¾å¤‡è®¾è®¡çš„é«˜æ€§èƒ½ NoSQL å¯¹è±¡æ•°æ®åº“ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- âš¡ **æé€Ÿæ€§èƒ½**ï¼šæ¯” SQLite å¿« 10 å€
- ğŸ’¾ **å†…å­˜å ç”¨å°**ï¼šé«˜æ•ˆçš„å†…å­˜ç®¡ç†
- ğŸ¯ **çº¯ Dart å®ç°**ï¼šæ— éœ€æœ¬åœ°æ¡¥æ¥ï¼Œå¼€å‘ä½“éªŒæ›´ä½³
- ğŸ”’ **å¼ºç±»å‹ API**ï¼šç¼–è¯‘æ—¶ç±»å‹å®‰å…¨
- ğŸ”„ **è‡ªåŠ¨ç‰ˆæœ¬ç®¡ç†**ï¼šç®€åŒ–æ•°æ®åº“è¿ç§»

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

æœ¬ç¤ºä¾‹å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

- âœ… **ä»»åŠ¡ç®¡ç†**ï¼šåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ä»»åŠ¡
- âœ… **çŠ¶æ€åˆ‡æ¢**ï¼šä»»åŠ¡å®ŒæˆçŠ¶æ€çš„å®æ—¶åˆ‡æ¢
- âœ… **æ•°æ®æŒä¹…åŒ–**ï¼šæ•°æ®è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°æ•°æ®åº“
- âœ… **ç‰ˆæœ¬ç®¡ç†**ï¼šé€šè¿‡ UID ç®¡ç†å­—æ®µå˜æ›´
- âœ… **å“åº”å¼ UI**ï¼šæ•°æ®å˜æ›´è‡ªåŠ¨æ›´æ–°ç•Œé¢

## ğŸ“± åº”ç”¨æˆªå›¾

åº”ç”¨æä¾›äº†ä¸€ä¸ªç®€æ´çš„ä»»åŠ¡ç®¡ç†ç•Œé¢ï¼š
- ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤ºï¼ˆIDã€æ ‡é¢˜ã€å®ŒæˆçŠ¶æ€ï¼‰
- åˆ é™¤ä»»åŠ¡åŠŸèƒ½
- åˆ‡æ¢ä»»åŠ¡å®ŒæˆçŠ¶æ€
- æ·»åŠ æ–°ä»»åŠ¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Flutter**: 3.3.4+
- **ObjectBox**: 4.1.0
- **Dart**: 3.3.4+

## ğŸ“¦ å®‰è£…ä¸è¿è¡Œ

### ç¯å¢ƒè¦æ±‚
- Flutter SDK â‰¥ 3.3.4
- Dart SDK â‰¥ 3.3.4
- Android Studio / VS Code

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd objectbox_example
```

2. **å®‰è£…ä¾èµ–**
```bash
flutter pub get
```

3. **ç”Ÿæˆ ObjectBox ä»£ç **
```bash
flutter packages pub run build_runner build
```

4. **è¿è¡Œé¡¹ç›®**
```bash
flutter run
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
objectbox_example/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                  # ä¸»åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ objectbox.g.dart           # ObjectBox ç”Ÿæˆçš„ä»£ç 
â”‚   â”œâ”€â”€ objectbox-model.json       # ObjectBox æ¨¡å‹é…ç½®
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ task.dart              # Task å®ä½“ç±»å®šä¹‰
â”‚   â”œâ”€â”€ objectbox/
â”‚   â”‚   â””â”€â”€ database_manager.dart  # æ•°æ®åº“ç®¡ç†å™¨
â”‚   â””â”€â”€ repositories/
â”‚       â””â”€â”€ task_repository.dart   # Task ä»“åº“ç±»
â”œâ”€â”€ pubspec.yaml                   # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### 1. æ•°æ®æ¨¡å‹ (Task)

```dart
@Entity()
class Task {
  @Id()
  int id;

  @Property(uid: 1)
  String title;
  
  @Property(uid: 2)
  String? description;
  
  @Property(uid: 3)
  bool isCompleted;
  
  @Property(type: PropertyType.date, uid: 4)
  DateTime createdAt;
}
```

### 2. æ•°æ®åº“ç®¡ç†å™¨

è´Ÿè´£ ObjectBox æ•°æ®åº“çš„åˆå§‹åŒ–å’Œé…ç½®ã€‚

### 3. ä»“åº“å±‚

å°è£…æ•°æ®è®¿é—®é€»è¾‘ï¼Œæä¾› CRUD æ“ä½œæ¥å£ã€‚

## ğŸ’¡ å…³é”®ç‰¹æ€§è¯´æ˜

### ç‰ˆæœ¬ç®¡ç†
ObjectBox é€šè¿‡ `uid` å‚æ•°ç®¡ç†å­—æ®µå˜æ›´ï¼š
- æ¯ä¸ªå­—æ®µéƒ½æœ‰å”¯ä¸€çš„ `uid`
- å­—æ®µå˜æ›´æ—¶åªéœ€ä¿®æ”¹ `uid` å€¼
- æ¡†æ¶è‡ªåŠ¨å¤„ç†å¤§éƒ¨åˆ†ç‰ˆæœ¬è¿ç§»æƒ…å†µ

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `@Id()` æ³¨è§£å®šä¹‰ä¸»é”®
- é€šè¿‡ `@Property()` æ³¨è§£é…ç½®å­—æ®µå±æ€§
- æ”¯æŒæ—¥æœŸç±»å‹å’Œå¯é€‰å­—æ®µ

## ğŸ” ä½¿ç”¨ç¤ºä¾‹

### æ·»åŠ ä»»åŠ¡
```dart
taskRepository.addTask(
  Task(title: "æ–°ä»»åŠ¡æ ‡é¢˜")
);
```

### æŸ¥è¯¢æ‰€æœ‰ä»»åŠ¡
```dart
List<Task> tasks = taskRepository.getAllTasks();
```

### æ›´æ–°ä»»åŠ¡
```dart
task.isCompleted = true;
taskRepository.updateTask(task);
```

### åˆ é™¤ä»»åŠ¡
```dart
taskRepository.deleteTask(taskId);
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä»£ç ç”Ÿæˆ**ï¼šä¿®æ”¹æ¨¡å‹åéœ€è¦é‡æ–°è¿è¡Œ `build_runner`
2. **ç‰ˆæœ¬ç®¡ç†**ï¼šå­—æ®µç±»å‹æ”¹å˜æ—¶éœ€è¦ç‰¹åˆ«å¤„ç†
3. **åˆå§‹åŒ–**ï¼šç¡®ä¿åœ¨ä½¿ç”¨å‰å®Œæˆæ•°æ®åº“åˆå§‹åŒ–
4. **UID ç®¡ç†**ï¼šæ¯ä¸ªå­—æ®µçš„ UID å¿…é¡»å”¯ä¸€ä¸”ä¸å¯é‡å¤ä½¿ç”¨

## ğŸ”— ç›¸å…³èµ„æº

- [ObjectBox å®˜æ–¹æ–‡æ¡£](https://docs.objectbox.io/)
- [ObjectBox Flutter ç¤ºä¾‹](https://github.com/objectbox/objectbox-dart/tree/main/objectbox_flutter_libs)
- [Flutter å®˜æ–¹æ–‡æ¡£](https://docs.flutter.dev/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

---

**è¿”å› [é¡¹ç›®æ€»è§ˆ](../README.md)**
